\hypertarget{classimage__tools_1_1Tool}{}\section{image\+\_\+tools\+:\+:Tool Class Reference}
\label{classimage__tools_1_1Tool}\index{image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}}


{\ttfamily \#include $<$tool.\+h$>$}



Inheritance diagram for image\+\_\+tools\+:\+:Tool\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classimage__tools_1_1Tool__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for image\+\_\+tools\+:\+:Tool\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classimage__tools_1_1Tool__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \hyperlink{classimage__tools_1_1FloatMatrix}{Float\+Matrix} $\ast$ \hyperlink{classimage__tools_1_1Tool_a7d58325846dbc0467e52221daa1310a7}{Create\+Mask} (float radius)=0
\item 
virtual void \hyperlink{classimage__tools_1_1Tool_a1b7cd7d59588923d7e29b6150334f5b8}{Start\+Stroke} (\hyperlink{classimage__tools_1_1PixelBuffer}{Pixel\+Buffer} $\ast$buffer, int x, int y, const \hyperlink{classimage__tools_1_1ColorData}{Color\+Data} \&paint\+\_\+color, float radius)
\item 
virtual void \hyperlink{classimage__tools_1_1Tool_a84d87d7baec8a961be236d4b30636fc0}{Add\+To\+Stroke} (int x, int y)
\item 
void \hyperlink{classimage__tools_1_1Tool_aa76f5cae95ea7cdc30b067b84857a0f5}{End\+Stroke} (int x, int y)
\item 
void \hyperlink{classimage__tools_1_1Tool_a6eb57021e1e59590075411b904e62905}{Stamp\+Mask\+Onto\+Buffer} (int x, int y)
\item 
virtual \hyperlink{classimage__tools_1_1ColorData}{Color\+Data} \hyperlink{classimage__tools_1_1Tool_aaf72d26377a6563fe9002e3288933285}{Lookup\+Paint\+Color} (int x, int y)
\item 
virtual \hyperlink{classimage__tools_1_1ColorData}{Color\+Data} \hyperlink{classimage__tools_1_1Tool_a1f4f417dd13da9ff60481e3e1ff30b69}{Combine\+Paint\+And\+Canvas\+Color} (const \hyperlink{classimage__tools_1_1ColorData}{Color\+Data} \&paint\+\_\+color, const \hyperlink{classimage__tools_1_1ColorData}{Color\+Data} \&canvas\+\_\+color, float mask\+\_\+intensity)
\item 
virtual bool \hyperlink{classimage__tools_1_1Tool_a84b6d2c885d11cf1990a3c7a1343a05f}{applies\+\_\+paint\+\_\+when\+\_\+stationary} ()
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classimage__tools_1_1Tool_aaf889880acec7512b12e86ebdbeb3beb}\label{classimage__tools_1_1Tool_aaf889880acec7512b12e86ebdbeb3beb}} 
\hyperlink{classimage__tools_1_1ColorData}{Color\+Data} {\bfseries paint\+\_\+color\+\_\+}
\item 
\mbox{\Hypertarget{classimage__tools_1_1Tool_a23a45a40d69356c9b67ae4302804c28b}\label{classimage__tools_1_1Tool_a23a45a40d69356c9b67ae4302804c28b}} 
\hyperlink{classimage__tools_1_1FloatMatrix}{Float\+Matrix} $\ast$ {\bfseries mask\+\_\+}
\item 
\mbox{\Hypertarget{classimage__tools_1_1Tool_af23788bccb2badbcd03dafeb2b4afb3b}\label{classimage__tools_1_1Tool_af23788bccb2badbcd03dafeb2b4afb3b}} 
\hyperlink{classimage__tools_1_1PixelBuffer}{Pixel\+Buffer} $\ast$ {\bfseries buffer\+\_\+}
\item 
\mbox{\Hypertarget{classimage__tools_1_1Tool_a18f054c5448762db3b1e80bfd7b17510}\label{classimage__tools_1_1Tool_a18f054c5448762db3b1e80bfd7b17510}} 
float {\bfseries stamp\+\_\+overlap\+\_\+}
\item 
\mbox{\Hypertarget{classimage__tools_1_1Tool_ac8354e7948afc34f1a8a85a56a047b76}\label{classimage__tools_1_1Tool_ac8354e7948afc34f1a8a85a56a047b76}} 
int {\bfseries last\+\_\+x\+\_\+}
\item 
\mbox{\Hypertarget{classimage__tools_1_1Tool_a52559a69433d2b4665cd3309751d91ad}\label{classimage__tools_1_1Tool_a52559a69433d2b4665cd3309751d91ad}} 
int {\bfseries last\+\_\+y\+\_\+}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The base class for an image editing tool. Every tool \char`\"{}has a\char`\"{} mask. Subclasses must define this mask by filling in the Create\+Mask factory method. This base class will then be able to apply the mask to a pixel buffer as the tool is dragged around interactively. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classimage__tools_1_1Tool_a84d87d7baec8a961be236d4b30636fc0}\label{classimage__tools_1_1Tool_a84d87d7baec8a961be236d4b30636fc0}} 
\index{image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}!Add\+To\+Stroke@{Add\+To\+Stroke}}
\index{Add\+To\+Stroke@{Add\+To\+Stroke}!image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}}
\subsubsection{\texorpdfstring{Add\+To\+Stroke()}{AddToStroke()}}
{\footnotesize\ttfamily void image\+\_\+tools\+::\+Tool\+::\+Add\+To\+Stroke (\begin{DoxyParamCaption}\item[{int}]{x,  }\item[{int}]{y }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

The controller should call this function after calling \hyperlink{classimage__tools_1_1Tool_a1b7cd7d59588923d7e29b6150334f5b8}{Start\+Stroke()} to add additional line segments to the stroke each time the mouse moves. In other words, each call to \hyperlink{classimage__tools_1_1Tool_a1b7cd7d59588923d7e29b6150334f5b8}{Start\+Stroke()} should by followed by multiple calls to \hyperlink{classimage__tools_1_1Tool_a84d87d7baec8a961be236d4b30636fc0}{Add\+To\+Stroke()}. Keep calling \hyperlink{classimage__tools_1_1Tool_a84d87d7baec8a961be236d4b30636fc0}{Add\+To\+Stroke()} until the user lifts up the mouse button. 

Reimplemented in \hyperlink{classimage__tools_1_1ToolStamp_a098a342f03717e2f909cda9515c85814}{image\+\_\+tools\+::\+Tool\+Stamp}.

\mbox{\Hypertarget{classimage__tools_1_1Tool_a84b6d2c885d11cf1990a3c7a1343a05f}\label{classimage__tools_1_1Tool_a84b6d2c885d11cf1990a3c7a1343a05f}} 
\index{image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}!applies\+\_\+paint\+\_\+when\+\_\+stationary@{applies\+\_\+paint\+\_\+when\+\_\+stationary}}
\index{applies\+\_\+paint\+\_\+when\+\_\+stationary@{applies\+\_\+paint\+\_\+when\+\_\+stationary}!image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}}
\subsubsection{\texorpdfstring{applies\+\_\+paint\+\_\+when\+\_\+stationary()}{applies\_paint\_when\_stationary()}}
{\footnotesize\ttfamily bool image\+\_\+tools\+::\+Tool\+::applies\+\_\+paint\+\_\+when\+\_\+stationary (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Most tools only apply \char`\"{}paint\char`\"{} when they are moved on the canvas, but some, like a spray can continue applying more paint over time even if they are held in the same place. Subclasses should override this function and return true if the tool allows paint to accumulate even when held stationary. The default implmentation returns false. 

Reimplemented in \hyperlink{classimage__tools_1_1ToolSprayCan_acd1e7907873ef757f200bf669d8dbfd9}{image\+\_\+tools\+::\+Tool\+Spray\+Can}.

\mbox{\Hypertarget{classimage__tools_1_1Tool_a1f4f417dd13da9ff60481e3e1ff30b69}\label{classimage__tools_1_1Tool_a1f4f417dd13da9ff60481e3e1ff30b69}} 
\index{image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}!Combine\+Paint\+And\+Canvas\+Color@{Combine\+Paint\+And\+Canvas\+Color}}
\index{Combine\+Paint\+And\+Canvas\+Color@{Combine\+Paint\+And\+Canvas\+Color}!image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}}
\subsubsection{\texorpdfstring{Combine\+Paint\+And\+Canvas\+Color()}{CombinePaintAndCanvasColor()}}
{\footnotesize\ttfamily \hyperlink{classimage__tools_1_1ColorData}{Color\+Data} image\+\_\+tools\+::\+Tool\+::\+Combine\+Paint\+And\+Canvas\+Color (\begin{DoxyParamCaption}\item[{const \hyperlink{classimage__tools_1_1ColorData}{Color\+Data} \&}]{paint\+\_\+color,  }\item[{const \hyperlink{classimage__tools_1_1ColorData}{Color\+Data} \&}]{canvas\+\_\+color,  }\item[{float}]{mask\+\_\+intensity }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

This function combines (i.\+e., blends) a paint\+\_\+color with an underlying canvas\+\_\+color given a mask\+\_\+intensity. The default algorithm uses a standard blending function\+: paint\+\_\+color $\ast$ mask\+\_\+intensity + canvas\+\_\+color $\ast$ (1.\+0 -\/ mask\+\_\+intensity) Some tools require a custom blend. Thus, this function provides a hook for subclasses to override the default blending function. 

Reimplemented in \hyperlink{classimage__tools_1_1ToolHighlighter_a8f4f3c016d4965edd02ad8e8559af4d1}{image\+\_\+tools\+::\+Tool\+Highlighter}, and \hyperlink{classimage__tools_1_1ToolChalk_ab2c6eda363c0fbc2283128eebbd817f5}{image\+\_\+tools\+::\+Tool\+Chalk}.

\mbox{\Hypertarget{classimage__tools_1_1Tool_a7d58325846dbc0467e52221daa1310a7}\label{classimage__tools_1_1Tool_a7d58325846dbc0467e52221daa1310a7}} 
\index{image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}!Create\+Mask@{Create\+Mask}}
\index{Create\+Mask@{Create\+Mask}!image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}}
\subsubsection{\texorpdfstring{Create\+Mask()}{CreateMask()}}
{\footnotesize\ttfamily virtual \hyperlink{classimage__tools_1_1FloatMatrix}{Float\+Matrix}$\ast$ image\+\_\+tools\+::\+Tool\+::\+Create\+Mask (\begin{DoxyParamCaption}\item[{float}]{radius }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Subclasses must fill in this factory method to define the mask for the specific tool they implement. 

Implemented in \hyperlink{classimage__tools_1_1ToolCalligraphyPen_a02a5785e1fabcc142a03509ac50dfb94}{image\+\_\+tools\+::\+Tool\+Calligraphy\+Pen}, \hyperlink{classimage__tools_1_1ToolHighlighter_a8c5c4f6c91fc49a89c1d24bdc2b3ea70}{image\+\_\+tools\+::\+Tool\+Highlighter}, \hyperlink{classimage__tools_1_1ToolStamp_a1331846ac4bcfc7aa307cf966658d056}{image\+\_\+tools\+::\+Tool\+Stamp}, \hyperlink{classimage__tools_1_1ToolBlur_a75690cef3c70c2f8db56b7106d7cd08c}{image\+\_\+tools\+::\+Tool\+Blur}, \hyperlink{classimage__tools_1_1ToolSprayCan_acac77013717667f64c9ffaedf621b553}{image\+\_\+tools\+::\+Tool\+Spray\+Can}, \hyperlink{classimage__tools_1_1ToolChalk_ac5b2bd1d685a80ae4b296defcbc80580}{image\+\_\+tools\+::\+Tool\+Chalk}, \hyperlink{classimage__tools_1_1ToolEraser_a5720244391587679acb8645a3fbd3d63}{image\+\_\+tools\+::\+Tool\+Eraser}, and \hyperlink{classimage__tools_1_1ToolPen_a27237b8843c611f80f59f8c00de4c835}{image\+\_\+tools\+::\+Tool\+Pen}.

\mbox{\Hypertarget{classimage__tools_1_1Tool_aa76f5cae95ea7cdc30b067b84857a0f5}\label{classimage__tools_1_1Tool_aa76f5cae95ea7cdc30b067b84857a0f5}} 
\index{image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}!End\+Stroke@{End\+Stroke}}
\index{End\+Stroke@{End\+Stroke}!image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}}
\subsubsection{\texorpdfstring{End\+Stroke()}{EndStroke()}}
{\footnotesize\ttfamily void image\+\_\+tools\+::\+Tool\+::\+End\+Stroke (\begin{DoxyParamCaption}\item[{int}]{x,  }\item[{int}]{y }\end{DoxyParamCaption})}

The controller must call this method to complete the stroke when the user releases the mouse button. \mbox{\Hypertarget{classimage__tools_1_1Tool_aaf72d26377a6563fe9002e3288933285}\label{classimage__tools_1_1Tool_aaf72d26377a6563fe9002e3288933285}} 
\index{image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}!Lookup\+Paint\+Color@{Lookup\+Paint\+Color}}
\index{Lookup\+Paint\+Color@{Lookup\+Paint\+Color}!image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}}
\subsubsection{\texorpdfstring{Lookup\+Paint\+Color()}{LookupPaintColor()}}
{\footnotesize\ttfamily \hyperlink{classimage__tools_1_1ColorData}{Color\+Data} image\+\_\+tools\+::\+Tool\+::\+Lookup\+Paint\+Color (\begin{DoxyParamCaption}\item[{int}]{x,  }\item[{int}]{y }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

This function returns the current paint color used with the tool. In most cases, this is the same as the paint\+\_\+color passed in to the \hyperlink{classimage__tools_1_1Tool_a1b7cd7d59588923d7e29b6150334f5b8}{Start\+Stroke()} function. However, some tools, like the blur tool, have \char`\"{}special paint\char`\"{} that depends on the underlying pixels in the canvas or some other factors. Thus, this function provides a hook for subclasses to override the default paint color to implement special paint colors. 

Reimplemented in \hyperlink{classimage__tools_1_1ToolBlur_af709da063f86da74d878d079fd2aab5e}{image\+\_\+tools\+::\+Tool\+Blur}.

\mbox{\Hypertarget{classimage__tools_1_1Tool_a6eb57021e1e59590075411b904e62905}\label{classimage__tools_1_1Tool_a6eb57021e1e59590075411b904e62905}} 
\index{image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}!Stamp\+Mask\+Onto\+Buffer@{Stamp\+Mask\+Onto\+Buffer}}
\index{Stamp\+Mask\+Onto\+Buffer@{Stamp\+Mask\+Onto\+Buffer}!image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}}
\subsubsection{\texorpdfstring{Stamp\+Mask\+Onto\+Buffer()}{StampMaskOntoBuffer()}}
{\footnotesize\ttfamily void image\+\_\+tools\+::\+Tool\+::\+Stamp\+Mask\+Onto\+Buffer (\begin{DoxyParamCaption}\item[{int}]{x,  }\item[{int}]{y }\end{DoxyParamCaption})}

This function will stamp the current mask onto the current buffer exactly one time at a location centered at (x,y) within the buffer. \mbox{\Hypertarget{classimage__tools_1_1Tool_a1b7cd7d59588923d7e29b6150334f5b8}\label{classimage__tools_1_1Tool_a1b7cd7d59588923d7e29b6150334f5b8}} 
\index{image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}!Start\+Stroke@{Start\+Stroke}}
\index{Start\+Stroke@{Start\+Stroke}!image\+\_\+tools\+::\+Tool@{image\+\_\+tools\+::\+Tool}}
\subsubsection{\texorpdfstring{Start\+Stroke()}{StartStroke()}}
{\footnotesize\ttfamily void image\+\_\+tools\+::\+Tool\+::\+Start\+Stroke (\begin{DoxyParamCaption}\item[{\hyperlink{classimage__tools_1_1PixelBuffer}{Pixel\+Buffer} $\ast$}]{buffer,  }\item[{int}]{x,  }\item[{int}]{y,  }\item[{const \hyperlink{classimage__tools_1_1ColorData}{Color\+Data} \&}]{paint\+\_\+color,  }\item[{float}]{radius }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

The controller (typically the G\+UI class) must call this method each time the user starts a new stroke. The buffer, paint\+\_\+color, and radius are saved in state variables so that they can be used by subsequent calls to \hyperlink{classimage__tools_1_1Tool_a84d87d7baec8a961be236d4b30636fc0}{Add\+To\+Stroke()} and \hyperlink{classimage__tools_1_1Tool_aa76f5cae95ea7cdc30b067b84857a0f5}{End\+Stroke()}. 

Reimplemented in \hyperlink{classimage__tools_1_1ToolEraser_a5b00cd104c6fb0b34fa3f1f5165ab189}{image\+\_\+tools\+::\+Tool\+Eraser}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/imagetools/tool.\+h\item 
src/imagetools/tool.\+cc\end{DoxyCompactItemize}
